MODULES.Sorting=function(t){function o(o){var r=t.extend({formSelector:void 0,sortPropertySelector:void 0,sortDirectionSelector:void 0,onSortChange:void 0,adjustArrows:!0},o);function e(){if(!r.formSelector)throw Error("No form was found for Pager module. Supply 'formSelector' option for the associated form element.");return t(r.formSelector)}function n(o){var n;return n=r.sortPropertySelector&&"string"==typeof r.sortPropertySelector?t(r.sortPropertySelector):e().find('input[name$="SortProperty"]').first(),void 0!==o&&n.val(o),n.val()}function i(o){var n;return n=r.sortDirectionSelector&&"string"==typeof r.sortDirectionSelector?t(r.sortDirectionSelector):e().find('input[name$="SortDirection"]').first(),o&&n.val(o),n.val()}function s(t){t===n()&&i("Ascending"===i()?"Descending":"Ascending")}function c(){$columns=t("[data-sort-column]"),$columns.removeClass("sorted-desc").removeClass("sorted-asc");var o="Ascending"===i()?"asc":"desc";$sortedCol=$columns.filter("[data-sort-column="+t.formatPropNameForSelector(n())+"]"),$sortedCol.addClass("sorted-"+o)}r.adjustArrows&&c(),t("th.sortable[data-sort-column], a.sortable[data-sort-column]").unbind("click").on("click",function(o){var a=t(this).data("sort-column");s(a),n(a),r.adjustArrows&&c(),r.onSortChange&&"function"==typeof r.onSortChange?r.onSortChange(a,i(),o):e().submit()})}function r(o){var r=t.extend({url:null,element:void 0},o);if(!r.url||!r.element)throw new Error("Url and Element are required options for DataSortingModel.");function e(o){o.preventDefault(),t(this).hide(),t(".manage-sort-order-header").show(),t(r.element).sortable({revert:200})}function n(o){o.preventDefault();t(this);!function(o){MODULES.Ajax.PostToServer({url:r.url,data:o,onSuccess:function(o){o.Succeeded?(t("#btn-edit-sort-order").show(),t(".manage-sort-order-header").hide(),t(r.element).sortable("destroy")):(MODULES.Notifications.ToastError(o.Message),location.reload())}})}({Items:t(r.element).sortable("toArray",{attribute:"data-id"}).map(function(t,o){return{Id:parseInt(t),Sort:o+1}})})}function i(t){t.preventDefault(),location.reload()}t("#btn-edit-sort-order").click(e),t("#btn-save-sort-order").click(n),t("#btn-cancel-sort-order").click(i)}return{InitResultsSorting:function(t){return new o(t)},InitDataSorting:function(t){return new r(t)}}}(jQuery),function(t){if(t){const o=t.createApp({});o.component("sorting-column",{template:"#sorting-column-template",props:{text:{type:String,required:!0},column:{type:String,required:!0},sortBy:{type:String,required:!0},direction:{type:String,required:!0}},computed:{IsCurrentSort:function(){return this.sortBy===this.column},SortDirectionClass:function(){return this.FullDirection},FullDirection:function(){return"asc"===this.direction?"ascending":"descending"}},methods:{OnClick:function(){let t=this.direction;console.log("OnClick in sorting is hit"),this.IsCurrentSort&&(t="asc"===t?"desc":"asc"),this.$emit("sort-click",{SortBy:this.column,Direction:t})}}}).mount("#sorting-column-template"),console.log("app.component",o.component)}}(window.Vue);