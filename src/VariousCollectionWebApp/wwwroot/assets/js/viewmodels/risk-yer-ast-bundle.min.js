var pixelAmount,speed=70,result=0,gameSpeed=300,intTimeReset=2,timer=intTimeReset,turnCounter=1,count=0,direction=1,firstLine="<SPAN style='color:#8AE65C;'>[__]</SPAN>",points=0,maxTurns=2,currentPlayer=1,maxPlayers=2,timerID=0,playerCreationCounter=1,randomizeMovement=0,players=[];function load(){showTimeIntervalsSelected()}function handleChangeDuration(e){chooseRoundDuration(),showTimeIntervalsSelected()}function handlePlayerCountChanged(e){choosePlayerCount(),calculateTotalGameTime()}function handleRoundsChanged(e){chooseGameRoundsCount(),calculateTotalGameTime()}function showTimeIntervalsSelected(){TimeResetval1.innerHTML=intTimeReset,TimeResetval2.innerHTML=intTimeReset,calculateTotalGameTime()}function calculateTotalGameTime(){var e;e=maxTurns*maxPlayers*intTimeReset,totalGameDuration.innerHTML=toHHMMSS(e)}function toHHMMSS(e){var t=parseInt(e,10),n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),a=t-3600*n-60*r;return n<10&&(n="0"+n),r<10&&(r="0"+r),a<10&&(a="0"+a),n+":"+r+":"+a}function start(){gamePicks(),window.setInterval("run()",gameSpeed),showTimeIntervalsSelected(),maxTurns1.innerHTML=maxTurns,soFar.innerText=intTimeReset,document.getElementById("pointTotal").disabled=!0,initializeCurrentPlayerInformation()}function initializeCurrentPlayerInformation(){aCurrentPlayer.innerText=players[currentPlayer-1].playerID+" - "+players[currentPlayer-1].playerName,aCurrentPlayer.style.color=players[currentPlayer-1].playerColor,pCharacter.style.color=players[currentPlayer-1].playerColor}function run(){1==randomizeMovement?(pixelAmount=randomizeCount(),count=pixelAmount):(count+=pixelAmount=speed)%700==0&&(speed*=-1),pCharacter.style.left=count,pCharacter.innerHTML=firstLine+"<BR> <SPAN style='font-size:30px;'>*</SPAN> <SPAN style='color:#FFA319;'>Points: "+count+"</SPAN>"}function randomizeCount(){var e=0;return(e=70*Math.round((701*Math.random()+0)/70))>700&&(e=700),e}function player(e,t,n,r){this.playerID=e,this.playerPoints=t,this.playerColor=n,this.playerName=r}function addPlayerInfo(){if(playerInfoValid()){var e=document.getElementById("txtSelectPlayerName").value,t=document.querySelector('input[name="selectPlayerColor"]:checked').value;players[playerCreationCounter-1]=new player(playerCreationCounter,0,t,e),playerCreationCounter++,document.getElementById("playerInfoID").text=playerCreationCounter,document.getElementById("txtSelectPlayerName").value="",document.fPlayerInfo.selectPlayerColor[0].checked=!0,playerCreationCounter>maxPlayers&&(document.getElementById("divPlayGameControls").style.display="inherit",document.getElementById("nextPlayersInfo").style.display="none",document.getElementById("divPlayerInfo").style.display="none")}else alert("Please enter a name for this player before continuing.")}function playerInfoValid(){return document.getElementById("txtSelectPlayerName").value.length>0}function showGamePanel(){document.getElementById("pnlGame").style.display="inherit",document.getElementById("pnlPlayerInfo").style.display="none",start()}function showPlayerInfoPanel(){document.getElementById("pnlPlayerInfo").style.display="inherit",document.getElementById("pnlGamePicker").style.display="none"}function showGameOptions(){document.getElementById("pnlGamePicker").style.display="inherit",document.getElementById("pnlPlayerInfo").style.display="none"}function getPoints(){var e=count;players[currentPlayer-1].playerPoints=addPoints(e),Points.innerText=players[currentPlayer-1].playerPoints}function addPoints(e){return e+players[currentPlayer-1].playerPoints}function determineWinner(){players.sort(function(e,t){return t.playerPoints-e.playerPoints});var e=players[0].playerID,t=players[0].playerName,n=players[0].playerColor,r="player needs ";players.length>2&&(r="players need "),winnerResults.innerText="Player "+e+", "+t+", is the winner!!!! Congratulations!!!! The other "+r+"to click faster!",winnerResults.style.color=n,playersVictoryFlag.style["background-color"]=n,playersVictoryName.innerHTML=t,showResultsGrid()}function showResultsGrid(){for(var e=0;e<players.length;e++){var t=document.getElementById("tblResults").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),a=t.insertCell(2);n.innerHTML=players[e].playerID,r.innerHTML=players[e].playerName,r.style.color=players[e].playerColor,a.innerHTML=players[e].playerPoints}document.getElementById("resultsDIV").style.display="inherit",document.getElementById("pSecondsLeft").style.display="none"}function startTimer(){timerID=window.setInterval("updateTime()",1e3),document.getElementById("startTimer").disabled=!0,document.getElementById("pointTotal").disabled=!1,document.getElementById("pSecondsLeft").style.display="inherit"}function endGame(){timerID&&(window.clearInterval(timerID),timerID=null,aCurrentPlayer.innerText="Game Over!",aCurrentPlayer.style.color="White",pCharacter.style.color="White",document.getElementById("pointTotal").disabled=!0,determineWinner())}function changePlayer(){currentPlayer++,resetPoints(),turnCounter=1,initializeCurrentPlayerInformation()}function resetPoints(){Points.innerText=0}function updateTime(e){var t="That's the end of turn ";timer--,soFar.innerText=timer,timer<1&&(turnCounter>=maxTurns?(t="You have completed your maximum number of turns ("+maxTurns+")",currentPlayer>=maxPlayers?(t+="...The Game is Over.",endGame()):(changePlayer(),t+="...now it's time to let the next player try. Hand the controls over to Player "+currentPlayer+" and let them give it a whirl.")):(t+=turnCounter,turnCounter++,playTurn.innerText=turnCounter),window.alert(t),timer=intTimeReset+1)}function restartGame(){1==confirm("Are you sure you want to restart?")&&location.reload()}function gamePicks(){chooseGameSpeed(),choosePlacement(),choosePlayerCount(),chooseGameRoundsCount(),chooseRoundDuration()}function chooseGameSpeed(){switch(parseInt(document.querySelector('input[name="selectGameSpeed"]:checked').value)){case 1:gameSpeed=300;break;case 2:gameSpeed=200;break;case 3:gameSpeed=100;break;default:gameSpeed=300}}function choosePlacement(){switch(parseInt(document.querySelector('input[name="selectGameType"]:checked').value)){case 1:randomizeMovement=0;break;case 2:randomizeMovement=1;break;default:randomizeMovement=0}}function choosePlayerCount(){var e=parseInt(document.querySelector('input[name="selectPlayerCount"]:checked').value);maxPlayers=e}function chooseGameRoundsCount(){var e=parseInt(document.querySelector('input[name="selectRoundCount"]:checked').value);maxTurns=e}function chooseRoundDuration(){var e=parseInt(document.querySelector('input[name="selectRoundDuration"]:checked').value);timer=intTimeReset=e}